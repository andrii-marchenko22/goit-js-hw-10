{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst input = document.querySelector(\"#datetime-picker\");\nconst startButton = document.querySelector(\"[data-start]\");\nconst days = document.querySelector(\"[data-days]\");\nconst hours = document.querySelector(\"[data-hours]\");\nconst minutes = document.querySelector(\"[data-minutes]\");\nconst seconds = document.querySelector(\"[data-seconds]\");\n\nlet userSelectedDate;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    userSelectedDate = selectedDates[0];\n    console.log(selectedDates[0]);\n\n    if (userSelectedDate <= new Date()) {\n      iziToast.error({\n        title: 'Error',\n        message: 'Please choose a date in the future',\n        position: 'topRight'\n      });\n      startButton.disabled = true;\n    } else {\n      startButton.disabled = false;\n    }\n  },\n};\n\nflatpickr(input, options);\n\nlet intervalId;\n\nstartButton.addEventListener(\"click\", startClick);\n\nfunction startClick() {\n  input.disabled = true;\n  startButton.disabled = true;\n\n  intervalId = setInterval(() => {\n    const totalTime = Date.now();\n    const remainder = userSelectedDate - totalTime;\n    const time = getTime(remainder);\n\n    if (remainder <= 0) {\n      clearInterval(intervalId);\n      days.textContent = \"00\";\n      hours.textContent = \"00\";\n      minutes.textContent = \"00\";\n      seconds.textContent = \"00\";\n      input.disabled = false; \n    } else {\n      tick({\n        daysElement: days,\n        hoursElement: hours,\n        minutesElement: minutes,\n        secondsElement: seconds,\n        days: time.days,\n        hours: time.hours,\n        minutes: time.minutes,\n        seconds: time.seconds,\n      });\n    }\n  }, 1000);\n}\n\nfunction getTime(remainder) {\n  const daysRev = pad(Math.floor(remainder / (1000 * 60 * 60 * 24)));\n  const hoursRev = pad(Math.floor((remainder % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)));\n  const minutesRev = pad(Math.floor((remainder % (1000 * 60 * 60)) / (1000 * 60)));\n  const secondsRev = pad(Math.floor((remainder % (1000 * 60)) / 1000));\n\n  return { days: daysRev, hours: hoursRev, minutes: minutesRev, seconds: secondsRev };\n}\n\nfunction pad(value) {\n  return String(value).padStart(2, \"0\");\n}\n\nfunction tick({ daysElement, hoursElement, minutesElement, secondsElement, days, hours, minutes, seconds }) {\n  if (daysElement && hoursElement && minutesElement && secondsElement) {\n    daysElement.textContent = days;\n    hoursElement.textContent = hours;\n    minutesElement.textContent = minutes;\n    secondsElement.textContent = seconds;\n  }\n}\n"],"names":["input","startButton","days","hours","minutes","seconds","userSelectedDate","options","selectedDates","iziToast","flatpickr","intervalId","startClick","totalTime","remainder","time","getTime","tick","daysRev","pad","hoursRev","minutesRev","secondsRev","value","daysElement","hoursElement","minutesElement","secondsElement"],"mappings":"2GAKA,MAAMA,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAO,SAAS,cAAc,aAAa,EAC3CC,EAAQ,SAAS,cAAc,cAAc,EAC7CC,EAAU,SAAS,cAAc,gBAAgB,EACjDC,EAAU,SAAS,cAAc,gBAAgB,EAEvD,IAAIC,EAEJ,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrBF,EAAmBE,EAAc,CAAC,EAClC,QAAQ,IAAIA,EAAc,CAAC,CAAC,EAExBF,GAAoB,IAAI,MAC1BG,EAAS,MAAM,CACb,MAAO,QACP,QAAS,qCACT,SAAU,UAClB,CAAO,EACDR,EAAY,SAAW,IAEvBA,EAAY,SAAW,EAE1B,CACH,EAEAS,EAAUV,EAAOO,CAAO,EAExB,IAAII,EAEJV,EAAY,iBAAiB,QAASW,CAAU,EAEhD,SAASA,GAAa,CACpBZ,EAAM,SAAW,GACjBC,EAAY,SAAW,GAEvBU,EAAa,YAAY,IAAM,CAC7B,MAAME,EAAY,KAAK,MACjBC,EAAYR,EAAmBO,EAC/BE,EAAOC,EAAQF,CAAS,EAE1BA,GAAa,GACf,cAAcH,CAAU,EACxBT,EAAK,YAAc,KACnBC,EAAM,YAAc,KACpBC,EAAQ,YAAc,KACtBC,EAAQ,YAAc,KACtBL,EAAM,SAAW,IAEjBiB,EAAK,CACH,YAAaf,EACb,aAAcC,EACd,eAAgBC,EAChB,eAAgBC,EAChB,KAAMU,EAAK,KACX,MAAOA,EAAK,MACZ,QAASA,EAAK,QACd,QAASA,EAAK,OACtB,CAAO,CAEJ,EAAE,GAAI,CACT,CAEA,SAASC,EAAQF,EAAW,CAC1B,MAAMI,EAAUC,EAAI,KAAK,MAAML,EAAa,KAAoB,CAAC,EAC3DM,EAAWD,EAAI,KAAK,MAAOL,GAAa,IAAO,GAAK,GAAK,KAAQ,IAAO,GAAK,GAAG,CAAC,EACjFO,EAAaF,EAAI,KAAK,MAAOL,GAAa,IAAO,GAAK,KAAQ,IAAO,GAAG,CAAC,EACzEQ,EAAaH,EAAI,KAAK,MAAOL,GAAa,IAAO,IAAO,GAAI,CAAC,EAEnE,MAAO,CAAE,KAAMI,EAAS,MAAOE,EAAU,QAASC,EAAY,QAASC,EACzE,CAEA,SAASH,EAAII,EAAO,CAClB,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACtC,CAEA,SAASN,EAAK,CAAE,YAAAO,EAAa,aAAAC,EAAc,eAAAC,EAAgB,eAAAC,EAAgB,KAAAzB,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAW,CACtGmB,GAAeC,GAAgBC,GAAkBC,IACnDH,EAAY,YAActB,EAC1BuB,EAAa,YAActB,EAC3BuB,EAAe,YAActB,EAC7BuB,EAAe,YAActB,EAEjC"}